#include "main.h"
//variaveis globais
int trava=0;
int c=0;
//funções de tempo
void tps(){
	for(int i=0;i<2;i++);
void tpisca(){
	for(int i=0;i<100000;i++);
}
//funões de pisca pisca
void ps1(){
	GPIOC->ODR=0X1; // 1000000
	tpisca();
	GPIOC->ODR&=~0X1; // 1000000
	tpisca();
}
void ps2(){
	GPIOC->ODR=0X3; // 1100000
	tpisca();
	GPIOC->ODR&=~0X3; // 1100000
	tpisca();
}
void ps3(){
	GPIOC->ODR=0X7; // 1110000
	tpisca();
	GPIOC->ODR&=~0X7; // 1110000
	tpisca();
}
void ps4(){
	GPIOC->ODR=0XF; // 1111000
	tpisca();
	GPIOC->ODR&=~0XF; // 1111000
	tpisca();
}
void ps5(){
	GPIOC->ODR=0X1F; // 1111100
	tpisca();
	GPIOC->ODR&=~0X1F;
	tpisca();
}
void ps6(){
	GPIOC->ODR=0X3F; // 1111110
	tpisca();
	GPIOC->ODR&=~0X3F; // 1111110
	tpisca();
}
void ps7(){
	GPIOC->ODR=0X7F; // 1111111
	tpisca();
	GPIOC->ODR&=~0X7F;
	tpisca();
}
////funções de sequencia crescente de acordo com numero binario
void seq1(){
	GPIOC->ODR=0X1; // 1000000
		tps();
                        }
void seq2(){
	GPIOC->ODR=0X1; // 1000000
		tps();
	GPIOC->ODR=0X3; // 1100000
}
void seq3(){
	GPIOC->ODR=0X1; // 1000000
		tps();
	GPIOC->ODR=0X3; // 1100000
		tps();
	GPIOC->ODR=0X7; // 1110000
}
void seq4(){
	GPIOC->ODR=0X1; // 1000000
		tps();
	GPIOC->ODR=0X3; // 1100000
		tps();
	GPIOC->ODR=0X7; // 1110000
		tps();
	GPIOC->ODR=0XF; // 1111000

}
void seq5(){
	GPIOC->ODR=0X1; // 1000000
		tps();
	GPIOC->ODR=0X3; // 1100000
		tps();
	GPIOC->ODR=0X7; // 1110000
		tps();
	GPIOC->ODR=0XF; // 1111000
		tps();
	GPIOC->ODR=0X1F; // 1111100
}
void seq6(){
	GPIOC->ODR=0X1; // 1000000
		tps();
	GPIOC->ODR=0X3; // 1100000
		tps();
	GPIOC->ODR=0X7; // 1110000
		tps();
	GPIOC->ODR=0XF; // 1111000
		tps();
	GPIOC->ODR=0X1F; // 1111100
		tps();
	GPIOC->ODR=0X3F; // 1111110
}
void seq7(){
	GPIOC->ODR=0X1; // 1000000
		tps();
	GPIOC->ODR=0X3; // 1100000
		tps();
	GPIOC->ODR=0X7; // 1110000
		tps();
	GPIOC->ODR=0XF; // 1111000
		tps();
	GPIOC->ODR=0X1F; // 1111100
		tps();
	GPIOC->ODR=0X7F; // 1111111
}
//////////

int main()
{
	int aux;
   RCC->AHB1ENR=0X87;
   GPIOC->MODER|=0X5555;
   GPIOB->MODER|=0X0;
   GPIOA->MODER|=0X28000400;


  while(1){

	  aux=GPIOB->IDR&0x700; //pinos b8;b9;b10
	  aux=aux>>8;

	  if((GPIOA->IDR&0X4)==0X4){//pino A2
			  if(trava==0){
				c=aux;
				trava=1;
			  }
	  }
	  if((GPIOB->IDR&=0x100) == 0x0){
	  		  if(trava == 1){
	  			  trava=0;
	  		  }
	 if(c==1){
		seq7();
		tps();
		ps7();

	 }




	  }
  }
}
